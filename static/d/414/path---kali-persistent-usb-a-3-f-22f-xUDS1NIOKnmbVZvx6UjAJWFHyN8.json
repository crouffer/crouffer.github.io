{"data":{"site":{"siteMetadata":{"title":"Chris Rouffer's Blog","author":"Chris Rouffer"}},"markdownRemark":{"id":"02511de4-5251-576a-90a1-2530be96d724","excerpt":"Photo by  Brina Blum  on  Unsplash I Keep Breaking Things As a software engineer I am very curious about the computers that I use at home and at work.  I’m…","html":"<p>\n  <a\n    class=\"gatsby-resp-image-link\"\n    href=\"/static/445d8c01f8c1d7fd05a30cce9935bbf1/ff346/brina-blum-156977-unsplash.jpg\"\n    style=\"display: block\"\n    target=\"_blank\"\n    rel=\"noopener\"\n  >\n  \n  <span\n    class=\"gatsby-resp-image-wrapper\"\n    style=\"position: relative; display: block;  max-width: 590px; margin-left: auto; margin-right: auto;\"\n  >\n    <span\n      class=\"gatsby-resp-image-background-image\"\n      style=\"padding-bottom: 66.66666666666666%; position: relative; bottom: 0; left: 0; background-image: url('data:image/jpeg;base64,/9j/2wBDABALDA4MChAODQ4SERATGCgaGBYWGDEjJR0oOjM9PDkzODdASFxOQERXRTc4UG1RV19iZ2hnPk1xeXBkeFxlZ2P/2wBDARESEhgVGC8aGi9jQjhCY2NjY2NjY2NjY2NjY2NjY2NjY2NjY2NjY2NjY2NjY2NjY2NjY2NjY2NjY2NjY2NjY2P/wgARCAANABQDASIAAhEBAxEB/8QAGAAAAwEBAAAAAAAAAAAAAAAAAAMEAgX/xAAUAQEAAAAAAAAAAAAAAAAAAAAC/9oADAMBAAIQAxAAAAGtNuQuWKGf/8QAGRABAQADAQAAAAAAAAAAAAAAAQIQEhMh/9oACAEBAAEFAmZmauE6mLNhPf/EABQRAQAAAAAAAAAAAAAAAAAAABD/2gAIAQMBAT8BP//EABURAQEAAAAAAAAAAAAAAAAAAAEQ/9oACAECAQE/ASf/xAAcEAABAwUAAAAAAAAAAAAAAAARAAEQAhIhMnH/2gAIAQEABj8CLo2Hq0pjMf/EABoQAQEBAQADAAAAAAAAAAAAAAEAESExUYH/2gAIAQEAAT8h8aohizmi9B/I6YmwYiIZf//aAAwDAQACAAMAAAAQFw//xAAWEQADAAAAAAAAAAAAAAAAAAAAARH/2gAIAQMBAT8QapD/xAAWEQADAAAAAAAAAAAAAAAAAAABEBH/2gAIAQIBAT8QKL//xAAaEAEBAAMBAQAAAAAAAAAAAAABEQAhUTFh/9oACAEBAAE/EGkAfLiwLhQUOXG+s5lGgOO8a2Hb5jC3GXP/2Q=='); background-size: cover; display: block;\"\n    >\n      <img\n        class=\"gatsby-resp-image-image\"\n        style=\"width: 100%; height: 100%; margin: 0; vertical-align: middle; position: absolute; top: 0; left: 0; box-shadow: inset 0px 0px 0px 400px white;\"\n        alt=\"USB Drive\"\n        title=\"\"\n        src=\"/static/445d8c01f8c1d7fd05a30cce9935bbf1/f8fb9/brina-blum-156977-unsplash.jpg\"\n        srcset=\"/static/445d8c01f8c1d7fd05a30cce9935bbf1/e8976/brina-blum-156977-unsplash.jpg 148w,\n/static/445d8c01f8c1d7fd05a30cce9935bbf1/63df2/brina-blum-156977-unsplash.jpg 295w,\n/static/445d8c01f8c1d7fd05a30cce9935bbf1/f8fb9/brina-blum-156977-unsplash.jpg 590w,\n/static/445d8c01f8c1d7fd05a30cce9935bbf1/85e3d/brina-blum-156977-unsplash.jpg 885w,\n/static/445d8c01f8c1d7fd05a30cce9935bbf1/d1924/brina-blum-156977-unsplash.jpg 1180w,\n/static/445d8c01f8c1d7fd05a30cce9935bbf1/9452e/brina-blum-156977-unsplash.jpg 1770w,\n/static/445d8c01f8c1d7fd05a30cce9935bbf1/ff346/brina-blum-156977-unsplash.jpg 5184w\"\n        sizes=\"(max-width: 590px) 100vw, 590px\"\n      />\n    </span>\n  </span>\n  \n  </a>\n    </p>\n<p>Photo by <a href=\"https://unsplash.com/photos/Bb_X4JgSqIM?utm_source=unsplash&#x26;utm_medium=referral&#x26;utm_content=creditCopyText\">Brina Blum</a> on <a href=\"https://unsplash.com/search/photos/usb-drive?utm_source=unsplash&#x26;utm_medium=referral&#x26;utm_content=creditCopyText\">Unsplash</a></p>\n<hr>\n<h1>I Keep Breaking Things</h1>\n<p>As a software engineer I am very curious about the computers that I use at home and at work.  I’m always tinkering with my machines, and quite frequently mess things up to the point of needing to rescue myself.</p>\n<p>Most of the time, when I break something, I reach for a Live Linux DVD.  These have bailed me out numerous times.  However, I am always frustrated that I lose my work when I reboot.  If my fix wasn’t correct, I have to try again from scratch!</p>\n<p>One of the Live DVDs that I often use is a Kali Linux disc that has an interesting feature:  “Boot With Persistence.”  That sounds promising!</p>\n<p>If I make a USB drive that had this feature, I could have a little “Linux on a Key-Chain” that I could plug in any time I mucked up my PC/Mac.  Users of Kali Linux might recognize other potential uses for a discrete, portable Kali install.  However, that is for another article that I would likely write using a pseudonym.</p>\n<h1>Goals</h1>\n<ol>\n<li>Boot Kali Linux on any PC or Mac, from my key chain USB drive</li>\n<li>Have my changes persist across boots, and across machines.  This means that I need to make the persistent storage reside on the USB drive itself, and not some location on the machine’s drives.</li>\n</ol>\n<h1>What You’ll Need</h1>\n<ol>\n<li>A Windows machine - This can also be done from Linux machine, but I can’t currently boot into my Linux because I broke it.  Hence the reason I’m writing this…</li>\n<li>32 GB USB 3.1 Drive - You can probably use something smaller, but I’m working with what I have on hand</li>\n<li><a href=\"https://www.kali.org/downloads/\">ISO Image for Kali Linux</a> - I chose 64-Bit, Version 2018.4</li>\n<li><a href=\"https://www.partitionwizard.com/free-partition-manager.html\">MiniTool Partition Wizard</a> - We’ll use this to create the persistence partition on the USB drive</li>\n<li><a href=\"https://sourceforge.net/projects/win32diskimager/\">Win32Disk Imager</a> - This is used to burn the ISO to the USB drive</li>\n</ol>\n<h2>Making the Bootable Drive</h2>\n<p><em>Warning: You are about to erase everything on your USB drive!  Make sure you are paying attention!</em></p>\n<h3>Format the USB Drive</h3>\n<ul>\n<li>\n<p>Choose FAT32 for the file system</p>\n</li>\n<li>\n<p>Default allocation size should be fine</p>\n<p>\n  <a\n    class=\"gatsby-resp-image-link\"\n    href=\"/static/6cbd29b9789291370fe52754ea3532c4/2a034/format.png\"\n    style=\"display: block\"\n    target=\"_blank\"\n    rel=\"noopener\"\n  >\n  \n  <span\n    class=\"gatsby-resp-image-wrapper\"\n    style=\"position: relative; display: block;  max-width: 260px; margin-left: auto; margin-right: auto;\"\n  >\n    <span\n      class=\"gatsby-resp-image-background-image\"\n      style=\"padding-bottom: 177.30769230769232%; position: relative; bottom: 0; left: 0; background-image: url('data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAABQAAAAjCAYAAACU9ioYAAAACXBIWXMAAAsSAAALEgHS3X78AAAEYklEQVRIx51WaVPiWBT1//+F+Txfp8rq0sbW0ZalgbAEAkkgBMjCvmVhx546c+9DIiqi1VYd38sjObnLuffmot/vo9Fooa4ZqNcbUGQFerWKslxFsSCj3abf9AZcx8a5v16vJ3DB/55+/4ftdofd7gnb3Q6r1Rrr9Qar9Rqb7RbL1QrL5RKbzYawPVr34Hufnp5g2zYu2u02nHYTdbVClmjouQ4WYYDQ9xAGXrTOD/sTCLwZlvOQPG0woQVZM/EznUeyUEWl4cAdh7CH/pdhETqTOQwmbNkuboo2YlIdV4kSUqoNY/ob+nALffQ5auMd1P4S6ZYP3TCJkCzUnQk0ewzdHsHs+2iNFrQGMAfhp2gSGvSMQffXDbLQohhqhQxUpQS5UEA2lcR02MNmtcRiHlDsfIqpj/kJHJ9vVot9DC3KjFGvoVAooqwokIsyNFVDjRLUbDbR6XTguC7cE9ifd8AcvApCTnWlrOD+/h6/0hncxmL4/j2GH1eXUEpFcTMTt1qtdzicGwZruP5soWXBsS20myaapokuWdTtuGhRKDgc4/EYk8nkU/i+/ywbIqyWZRSyaUhZCbqmwtAUlMtlyPk8FosFgjCE53lnMZ/PX1yuVqq4v7uDlEkh9fiATCqORDJJL8giEY+LZLEn7OJbsMvsbuQyE9Z0ncjSyGUzKEpZ5KU0skQmU6JyuZxIkEiC47wDn4uw0T6K4YpqdU31yeD6jfZ0znXLtRySSxynT13es7tQSDKVSgU6WatSt9FUleKpo1wqU0jK4nowGESkvB7A12EYvrhsmk1cX13jB0kmkYhTPG9FTB8fHhCjs5vrb0hSbHv93odWRoRs4ZwyKUBmH3B4exAEAh7tZ7PZ1wj71BMdq41ut0M9zRI6PHbpmPzU+asYCh1S7KTUI3XpItK/kpBzErzZVAh2OmVMz4LvY9LnfkgNluowT/KoVBRqEmUE1DQ5u2vu2KI7fwy+Z0tdnS1lLQpCnisdcnM4HGJImQypY7NU2EWOG7+d13NgS7mmRZbZLXZXKclQqFFkMyRuEjnXOCfjKy7zy6OkTKgBqBRHs2EQTKHDhlEny3tnxXyMqDlwyTBpPl9APp2icssLMeckiayV4bNk3gj5VJZfWcgHbPZoNKJ1LGIyFvvJWaKThJyU4MgK76i0vC+6exB8ZOFxNv8E/GxUKWwhFz3Pjm63K9Y/AUtPyEZkmWLFpEKHRxgMTuDV74NoZY6X5nDUDA4IKQz8ecFYLRdYLuZiz6M1CELh4uK5oXDIeB8Rhm9mRkiz2B5Mkar1kal1kFBayOgOXfdQag0xIn3aJDeThho/z12bLf2QkAe4Sl8TN7KFf3Ma/vr7H8TiEh4UC7eKi55jQaXm++3yEne3t0TcECMgiuGBcK+pvcvjqQfdnaDemUbglzgDqlvS6mG88sr6jbrNW8KD/gLCck4IX7B6/jTx/SBqvIceGfVDnm482d6Cz7M0p7PSe0gnwM/EaeT+D7PRDsC+FDEXAAAAAElFTkSuQmCC'); background-size: cover; display: block;\"\n    >\n      <img\n        class=\"gatsby-resp-image-image\"\n        style=\"width: 100%; height: 100%; margin: 0; vertical-align: middle; position: absolute; top: 0; left: 0; box-shadow: inset 0px 0px 0px 400px white;\"\n        alt=\"format\"\n        title=\"\"\n        src=\"/static/6cbd29b9789291370fe52754ea3532c4/2a034/format.png\"\n        srcset=\"/static/6cbd29b9789291370fe52754ea3532c4/67ba2/format.png 148w,\n/static/6cbd29b9789291370fe52754ea3532c4/2a034/format.png 260w\"\n        sizes=\"(max-width: 260px) 100vw, 260px\"\n      />\n    </span>\n  </span>\n  \n  </a>\n    </p>\n</li>\n</ul>\n<h3>Burn the Kali ISO to the USB Drive</h3>\n<ul>\n<li>\n<p>Open Win32DiskImager</p>\n</li>\n<li>\n<p>Select the image file to write</p>\n</li>\n<li>\n<p>Select the target USB Device</p>\n</li>\n<li>\n<p>Click on ‘Write’, then confirm your selections and click ‘Yes’ when prompted</p>\n</li>\n</ul>\n<p>\n  <a\n    class=\"gatsby-resp-image-link\"\n    href=\"/static/da09cac975a2ade6b61446ae13785652/b1fb7/win32-disk-image.png\"\n    style=\"display: block\"\n    target=\"_blank\"\n    rel=\"noopener\"\n  >\n  \n  <span\n    class=\"gatsby-resp-image-wrapper\"\n    style=\"position: relative; display: block;  max-width: 488px; margin-left: auto; margin-right: auto;\"\n  >\n    <span\n      class=\"gatsby-resp-image-background-image\"\n      style=\"padding-bottom: 69.87704918032787%; position: relative; bottom: 0; left: 0; background-image: url('data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAABQAAAAOCAYAAAAvxDzwAAAACXBIWXMAAAsSAAALEgHS3X78AAABu0lEQVQ4y4VTyZaCQAzk/z9tDqMPVGTfVAREFFxPNal2uh/6dOZQdBKS6mxtpXmBPEuQJplCHMUoyxJt2+JyueB8Pr/FMAw4nU7Kr+s6JW+3W1hVVaNpBHWDoR9wPB7VT5Ld7/ePuKnzhuv1jL7vVcxut4OVZRkm3xNMJ1OsigKr1cqgED3P86dzbM8L8du2CIIAi8VC/hWwwjAEQePSdeE4DnzPe8D3sVwu4QlcCQhED4IQvvh67gL23MPXvEQoOn3TNIWlb2MfDoeDSp/QMu37/d6cBr/6oWsfp/iz9xbJmBXZWb4nmTErLTdNo5z1hRrUO3U+ZPZeEa7XayRxAp6cUpIkiOPHpKMoUo1+R/hKbgj5oaGua1RVhVrArEiuSXTJn/BUcsaSbQczKZvZcQAcEsstNxt1819kGiZDDoUEhRCb3owya3etWt7/YDLkXrFPLJMGgqWPZZY/1l9tlLkR6qVwmnoQGymRw4njyDjyHy/VBGmSqmGxMu1DDsbSzyKR48xg27ZZHUdkBtCJL4AX6ACXyy89Zxwvp93zfNmUWO2zxfT50JkyG0v0ouuV0PaxTv+xjTJtJP8BslEQ4RYDfEgAAAAASUVORK5CYII='); background-size: cover; display: block;\"\n    >\n      <img\n        class=\"gatsby-resp-image-image\"\n        style=\"width: 100%; height: 100%; margin: 0; vertical-align: middle; position: absolute; top: 0; left: 0; box-shadow: inset 0px 0px 0px 400px white;\"\n        alt=\"win32-disk-image\"\n        title=\"\"\n        src=\"/static/da09cac975a2ade6b61446ae13785652/b1fb7/win32-disk-image.png\"\n        srcset=\"/static/da09cac975a2ade6b61446ae13785652/2a8fe/win32-disk-image.png 148w,\n/static/da09cac975a2ade6b61446ae13785652/19b05/win32-disk-image.png 295w,\n/static/da09cac975a2ade6b61446ae13785652/b1fb7/win32-disk-image.png 488w\"\n        sizes=\"(max-width: 488px) 100vw, 488px\"\n      />\n    </span>\n  </span>\n  \n  </a>\n    </p>\n<p>The write should take a couple of minute, depending on the image you are using, and the speed of your drive</p>\n<h3>Add the Persistence Partition</h3>\n<ul>\n<li>\n<p>Install and open MiniTool Partition Manager - It’s going to try to get you to install McAfee and other stuff, but if you unselect the ‘I Agree’ boxes you can get past them</p>\n</li>\n<li>\n<p>Create an EXT4 partition in the (Unallocated) space left on the USB drive</p>\n<p>\n  <a\n    class=\"gatsby-resp-image-link\"\n    href=\"/static/ce5d7e1d25866a82ec441e53a3d3e23f/36a60/partition-before.png\"\n    style=\"display: block\"\n    target=\"_blank\"\n    rel=\"noopener\"\n  >\n  \n  <span\n    class=\"gatsby-resp-image-wrapper\"\n    style=\"position: relative; display: block;  max-width: 590px; margin-left: auto; margin-right: auto;\"\n  >\n    <span\n      class=\"gatsby-resp-image-background-image\"\n      style=\"padding-bottom: 7.232401157184186%; position: relative; bottom: 0; left: 0; background-image: url('data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAABQAAAABCAYAAADeko4lAAAACXBIWXMAAAsSAAALEgHS3X78AAAAN0lEQVQI14XDgQnAIAxFQfefzAkUKlLNTyNO8eoGHlx6Fey1KCPIZZDrpHajPY1pQu5I93b6F/xwv0ivmolQXgAAAABJRU5ErkJggg=='); background-size: cover; display: block;\"\n    >\n      <img\n        class=\"gatsby-resp-image-image\"\n        style=\"width: 100%; height: 100%; margin: 0; vertical-align: middle; position: absolute; top: 0; left: 0; box-shadow: inset 0px 0px 0px 400px white;\"\n        alt=\"Partition - Before\"\n        title=\"\"\n        src=\"/static/ce5d7e1d25866a82ec441e53a3d3e23f/fb8a0/partition-before.png\"\n        srcset=\"/static/ce5d7e1d25866a82ec441e53a3d3e23f/1a291/partition-before.png 148w,\n/static/ce5d7e1d25866a82ec441e53a3d3e23f/2bc4a/partition-before.png 295w,\n/static/ce5d7e1d25866a82ec441e53a3d3e23f/fb8a0/partition-before.png 590w,\n/static/ce5d7e1d25866a82ec441e53a3d3e23f/526de/partition-before.png 885w,\n/static/ce5d7e1d25866a82ec441e53a3d3e23f/36a60/partition-before.png 1037w\"\n        sizes=\"(max-width: 590px) 100vw, 590px\"\n      />\n    </span>\n  </span>\n  \n  </a>\n    </p>\n</li>\n<li>\n<p>Important:  Name the partition ‘persistence’</p>\n<p>\n  <a\n    class=\"gatsby-resp-image-link\"\n    href=\"/static/c38528ca8d4d7eb38fda9a4e2bb357bf/18433/partition-modal.png\"\n    style=\"display: block\"\n    target=\"_blank\"\n    rel=\"noopener\"\n  >\n  \n  <span\n    class=\"gatsby-resp-image-wrapper\"\n    style=\"position: relative; display: block;  max-width: 534px; margin-left: auto; margin-right: auto;\"\n  >\n    <span\n      class=\"gatsby-resp-image-background-image\"\n      style=\"padding-bottom: 87.26591760299624%; position: relative; bottom: 0; left: 0; background-image: url('data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAABQAAAARCAYAAADdRIy+AAAACXBIWXMAAAsSAAALEgHS3X78AAADBElEQVQ4y22UbU8TQRDH+12JUSN+F0oMLYm+0wQl+BBDAV+AJopEMQHbw5ZS+nR3vV7vuXe391Dyd3ba0oKS/NjZ2b3Z2dn/tPD8xTOUS+solco0lrBZLmNjYwPr60Vi/R7FO/5isYi1tbVbSqVNFNrtHtrtDuI4ZoQQiKMYSZoiy1KkNCYiQZIkNM+YNM14z/2/IAhRqNcv0WxeYjQawXFcwiYctm3bZizLYqSffZbN+z3XRRiGFCjgZFRVR0HXDXZ4nscbfN+H6zqEe5txkgjOcM7UN7XnN8vSBJo2QEFVNQwGA2Y4HHIGuq7TooYoiviKsVh8yB9LXywwHoe0Jtj2QzHNUP6T1zFNk0+Wm30/oAMM+mDMPtcL+DB5qNyb5xmGpoVG8xrDkQ3DtHHRtdDpzQLKenR7Pc4uy3OYNJe++ZVcfwxV0wkVBgUWVAKHStLpdOBTueS+Md2GM9Roo2O78CiYKwttW5jQBzlllicLJlSjOTf0+nLMRMxrGdc0nQbsdnW0W7+w8+kltg5eE1uoHO+i8r2yQM6XfUv27nEFB8fvYI9aqDdaKPRUC93WEXZ3VvB++zHxCG+3HmD71Qo+vHmAz/urONp/isO9VRxWnvyDXPuy9xCdq69od4dUQ82AY9FLk8PsnGDQ+sa2q54isWsQdhWedgphVZG5ClJnBtkJjZ5xhnB4hjQJoOoUsN/XILWo6hYGQ5ceQDDjKEeaA3EKekUPQUhdMgGSfIpcExkw8kkVAWkzu0Ff1rDT0zAiyRiG1KGBKByTXAKSC7WfkLqL2B+SL02TmcgFZSRYUqZNh/keJpMJmu3+9JVtelmdRpMkYcwELltK9rEUrZRTTLLgviaJpLM+l/3u+iHrNc3yaadIMcpOkKdNITu52xn8g7E0lwFki0rmvRxFIWlZQ+HjSRPHTQfqKETLGKNNdM0QPZovB1kgW0yFoii4urpCv99HraagUa9DaVyj8OPnOarKJaq1Bn5X66gpDeKSubj4P7VaHdXqHx4V2j+3z88V/AVea9VgoJISwwAAAABJRU5ErkJggg=='); background-size: cover; display: block;\"\n    >\n      <img\n        class=\"gatsby-resp-image-image\"\n        style=\"width: 100%; height: 100%; margin: 0; vertical-align: middle; position: absolute; top: 0; left: 0; box-shadow: inset 0px 0px 0px 400px white;\"\n        alt=\"Partition Modal\"\n        title=\"\"\n        src=\"/static/c38528ca8d4d7eb38fda9a4e2bb357bf/18433/partition-modal.png\"\n        srcset=\"/static/c38528ca8d4d7eb38fda9a4e2bb357bf/653a0/partition-modal.png 148w,\n/static/c38528ca8d4d7eb38fda9a4e2bb357bf/fd081/partition-modal.png 295w,\n/static/c38528ca8d4d7eb38fda9a4e2bb357bf/18433/partition-modal.png 534w\"\n        sizes=\"(max-width: 534px) 100vw, 534px\"\n      />\n    </span>\n  </span>\n  \n  </a>\n    </p>\n</li>\n<li>\n<p>Apply the changes - This might take a while, depending on the drive speed and partition size</p>\n<p>\n  <a\n    class=\"gatsby-resp-image-link\"\n    href=\"/static/06d8a844fb6d7618352ce82723e13f82/948dd/partition-after.png\"\n    style=\"display: block\"\n    target=\"_blank\"\n    rel=\"noopener\"\n  >\n  \n  <span\n    class=\"gatsby-resp-image-wrapper\"\n    style=\"position: relative; display: block;  max-width: 590px; margin-left: auto; margin-right: auto;\"\n  >\n    <span\n      class=\"gatsby-resp-image-background-image\"\n      style=\"padding-bottom: 6.886517943743938%; position: relative; bottom: 0; left: 0; background-image: url('data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAABQAAAABCAYAAADeko4lAAAACXBIWXMAAAsSAAALEgHS3X78AAAAPklEQVQI12O4cePM/xcvHv6/cOfp/5PX7/8/dfP5/5On1vzfsafv/4EjM/4fPTHj/5Hj+DFIzWEgffb0tP8Ad9NAw4ePgCMAAAAASUVORK5CYII='); background-size: cover; display: block;\"\n    >\n      <img\n        class=\"gatsby-resp-image-image\"\n        style=\"width: 100%; height: 100%; margin: 0; vertical-align: middle; position: absolute; top: 0; left: 0; box-shadow: inset 0px 0px 0px 400px white;\"\n        alt=\"Partition After\"\n        title=\"\"\n        src=\"/static/06d8a844fb6d7618352ce82723e13f82/fb8a0/partition-after.png\"\n        srcset=\"/static/06d8a844fb6d7618352ce82723e13f82/1a291/partition-after.png 148w,\n/static/06d8a844fb6d7618352ce82723e13f82/2bc4a/partition-after.png 295w,\n/static/06d8a844fb6d7618352ce82723e13f82/fb8a0/partition-after.png 590w,\n/static/06d8a844fb6d7618352ce82723e13f82/526de/partition-after.png 885w,\n/static/06d8a844fb6d7618352ce82723e13f82/948dd/partition-after.png 1031w\"\n        sizes=\"(max-width: 590px) 100vw, 590px\"\n      />\n    </span>\n  </span>\n  \n  </a>\n    </p>\n</li>\n<li>\n<p>Exit the MiniTool Partition Wizard</p>\n</li>\n</ul>\n<h3>Boot from the USB Drive</h3>\n<ul>\n<li>Restart your computer, and do whatever it takes to boot from the USB Drive</li>\n<li>At the Kali boot screen, select the option for Live USB Persistence”</li>\n<li>\n<p>The default username and password in Kali:</p>\n<ul>\n<li>Username: root</li>\n<li>Password: toor</li>\n</ul>\n</li>\n</ul>\n<h3>Enable Persistence</h3>\n<p>Once Kali is booted you will need to do the following:</p>\n<ul>\n<li>Start a terminal, and change to root (if you’re not logged in as root already)</li>\n</ul>\n<p>  <code class=\"language-text\">sudo su</code></p>\n<ul>\n<li>\n<p>Figure out which partition your persistence partition is (mine was /dev/sdb3)</p>\n<p><code class=\"language-text\">fdisk -l</code></p>\n</li>\n<li>\n<p>Mount the partition</p>\n<p><code class=\"language-text\">mkdir -p /mnt/my_usb</code></p>\n<p><code class=\"language-text\">mount /dev/sdb3 /mnt/my_usb</code></p>\n</li>\n<li>\n<p>Enable persistence on the partition</p>\n<p><code class=\"language-text\">echo &quot;/ union&quot; &gt; /mnt/my_usb/persistence.conf</code></p>\n</li>\n<li>\n<p>Unmount the partition</p>\n<p><code class=\"language-text\">umount /dev/sdb3</code></p>\n</li>\n</ul>\n<p>From now on when you boot ‘Live USB Persistence’ your files from the previous session will remain.</p>\n<h1>Next Steps</h1>\n<p>Now that you’ve got a handy “Kali on a Key-Chain” you can customize it to your heart’s content.  Here are a few things I did right away:</p>\n<ol>\n<li>Update the system to deal with any possible security problems</li>\n<li>Add a user, so that I’m not running as root all the time</li>\n<li>\n<p>Install packages that I frequently use:</p>\n<ol>\n<li>vim</li>\n<li>git</li>\n<li>python3</li>\n<li>NodeJS</li>\n</ol>\n</li>\n<li>Install Visual Studio Code and a few of my favourite plugins</li>\n<li>Install my preferred web browser and extensions</li>\n<li>Clone my repo for this blog, so I could keep editing this file, then push it from my USB distro</li>\n<li>Finish posting this article from the newly created distribution</li>\n</ol>\n<h3>Credits</h3>\n<p>I spent all weekend trying to get this working with a different distro, then finally stumbled upon the <a href=\"https://docs.kali.org/downloading/kali-linux-live-usb-persistence\">Instructions to do it with Kali</a>.</p>\n<p>It took some tweaking to make it work from Windows.  There is a <a href=\"https://www.youtube.com/watch?v=C-O8UoJA-gw\">nice video of someone demonstrating the process on Youtube</a></p>","frontmatter":{"title":"Kali Linux on Your Key-Chain USB","date":"February 12, 2019"}}},"pageContext":{"slug":"/kali-persistent-usb/","previous":{"fields":{"slug":"/juggling-vs-balancing/"},"frontmatter":{"title":"Juggling on a Tightrope"}},"next":{"fields":{"slug":"/aws-account-creation/"},"frontmatter":{"title":"Setting Yourself Up For AWS Success"}}}}